# get test data
appendCSV = False
for i in range(1, 10):
    print("\ndataset "+str(i))
    imgsPaths = helpers.getImgsPaths("./test_images/"+str(i))
    # i = 0
    for imgPath in imgsPaths:
        img = helpers.readImageGray(imgPath)
        isTextBlack = helpers.isTextBlack(img)
        arr = extract_features.getLPQ(img)
        helpers.saveArrayToCSV(arr, "lpq_test.csv", str(i), appendCSV)
        arr = extract_features.getHPP(img)
        helpers.saveArrayToCSV(arr, "hpp_test.csv", str(i), appendCSV)
        img_bin = preprocessing.binarization(img, isTextBlack)
        img_skeleton = preprocessing.skeletonization(img_bin)
        arr = extract_features.getGradients(img_skeleton)
        helpers.saveArrayToCSV(arr, "tos_test.csv", str(i), appendCSV)
        _, Bimg = cv2.threshold(img, 150, 255, cv2.THRESH_BINARY)
        img_edge = preprocessing.getEdgeImage(Bimg)
        arr = extract_features.getGradients(img_edge)
        helpers.saveArrayToCSV(arr, "toe_test.csv", str(i), appendCSV)
        arr = extract_features.getWOr(img)
        helpers.saveArrayToCSV(arr, "wor_test.csv", str(i), appendCSV)
        arr = extract_features.getLVL(img_skeleton)
        helpers.saveArrayToCSV(arr, "lvl_test.csv", str(i), appendCSV)
        arr = extract_features.getTTH(img_skeleton)
        helpers.saveArrayToCSV(arr, "tth_test.csv", str(i), appendCSV)
        appendCSV = True